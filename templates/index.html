<!doctype html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Crud</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

    <nav class="menu-lateral">

        <div class="btn-expandir">
          <i class="bi bi-list" id="btn-exp"></i>
        </div>

        <ul>
          <li class="item-menu ativo">
            <a href="#">
              <span class="icon"><i class="bi bi-house"></i></span>
              <span class="txt-link">Home</span>
            </a>
          </li>
          <li class="item-menu">
            <a href="#">
              <span class="icon"><i class="bi bi-people"></i></span>
              <span class="txt-link">Ativos/Vencidos</span>
            </a>
          </li>
          <li class="item-menu">
            <a href="#">
              <span class="icon"><i class="bi bi-cash-coin"></i></span>
              <span class="txt-link">Planos</span>
            </a>
          </li>
        </ul>

    </nav>

    <h1>Gerenciamento de Clientes</h1>
    <form action="/adicionar_cliente" method="POST">
      <div class="janela-modal" id="janela-modal">
        <div class="modal">
          <button class="fechar" id="fechar">X</button>
          
          <label for="nome">Nome</label>
          <input type="text" id="nome" name="nome" required>
          
          <label for="cpf">CPF</label>
          <input type="text" id="cpf" name="cpf" required>
          
          <label for="plano">Plano</label>
          <input type="text" id="plano" name="plano" required>
          
          <label for="data">Data/vencimento</label>
          <input type="date" id="data" name="data_vencimento" required>
          
          <label for="status">Status</label>
          <input type="text" id="status" name="status" required>

          <button id="btnSalvar" onclick="">Salvar</button>

        </div>
      </div>
    </form>
    <main class="main">
     
      <div class="num-clientes">
      
        <div class="ativos">
          <i class="bi bi-people"></i>
          <p>Clientes Ativos</p>
          <p style="font-size: 50px; margin: 0;">{{ clientes_ativos }}</p>
        </div>      
        <div class="vencidos">
          <i class="bi bi-people"></i>
          <p>Clientes Vencidos</p>
          <p style="font-size: 50px; margin: 0;">{{ clientes_vencidos }}</p>
        </div>

      </div>
    
      <div class="button-container">
        <button id="add" onclick="openModal()">Adicionar</button>
      </div>
      <div class="table">
          <table>
            <thead>
              <tr>
                <th>ID</th>
                <th>Nome</th>
                <th>CPF</th>
                <th>Plano</th>
                <th>Data/Vencimento</th>
                <th>Status</th>
                <th>Editar</th>
                <th>Excluir</th>
              </tr>
            </thead>
            <tbody id="tbody">
              {% for cliente in clientes %}
              <tr>
                  <td>{{ cliente[0] }}</td>
                  <td>{{ cliente[1] }}</td>
                  <td>{{ cliente[2] }}</td>
                  <td>{{ cliente[3] }}</td>
                  <td>{{ cliente[4] }}</td>
                  <td>{{ cliente[5] }}</td>
                  <td><a href="/editar_cliente/{{ cliente[0] }}"><button id="edit">Editar</button></a></td>
                  <td><a href="/excluir_cliente/{{ cliente[0] }}"><button id="remove">Excluir</button></a></td>
              </tr>
              {% endfor %}
            </tbody>
          </table>

      </div>
      
    </main>
    <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
</body>
</html>
